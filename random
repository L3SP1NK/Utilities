#!/bin/bash
## Random password generator.
## Copy random passwords to the clipboard.
## See the "pass" script to store them securely.

RESET_COLOR="\e[0m"
BOLD="\e[1m"
RED="\e[31m"

REQUIREMENTS="xclip"

which ${REQUIREMENTS} > /dev/null
if [[ ${?} -eq "0" ]]
	then
		if [[ ${1} ]]
			then
				## Alpha + Num + symbols.
				echo $(cat /dev/random | tr -dc 'a-zA-Z0-9!?@#$%^&*"^_+=><~`:;.' | head -c ${1}) | xclip -selection clipboard
				## Alpha + Num.
				#echo -e "$(cat /dev/random | tr -cd 'a-z0-9' | head -c ${1})\n" | xclip -selection clipboard
				notify-send '  📄 Random password copied to clipoard! '
			else
				## 16 Alpha + Num + symbols.
				echo $(cat /dev/random | tr -dc 'a-zA-Z0-9!?@#$%^&*"^_+=><~`:;.' | head -c 16) | xclip -selection clipboard
				## Alpha + Num.
				#echo -e "$(cat /dev/random | tr -cd 'a-z0-9' | head -c 16)\n" | xclip -selection clipboard
				notify-send '  📄 Random password copied to clipoard! '
		fi
	else
		echo -e "${RED}To run this program, you need the following package(s) installed: ${BOLD}${REQUIREMENTS}\nExiting...${RESET_COLORS}"
		exit 1
fi
