#!/bin/bash
## Get weather information.
reset

## Colors.
RESET_COLOR="\e[0m"
BOLD="\e[1m"
RED="\e[31m"

CITY=${1}

function WEATHER_INFO_1()
{
	curl -sf "http://wttr.in/${CITY}" | grep -v "Follow"
	echo -e "\e[36m\e[1m$(date +%H:%M:%S)\e[0m"
	read
}

function WEATHER_INFO_2()
{
	curl -sf "http://wttr.in/${CITY}?format=v2" | grep -v "Follow"
	echo -e "\e[36m\e[1m$(date +%H:%M:%S)\e[0m"
	read
}

REQUIREMENTS="curl"

which ${REQUIREMENTS} > /dev/null
if [[ ${?} -eq "0" ]]
	then
		WEATHER_INFO_1
		WEATHER_INFO_2
	else
		echo -e "${RED}To run this program, you need the following package(s) installed: ${BOLD}${REQUIREMENTS}${RESET_COLORS}"
fi
