#!/bin/bash

function FREE_MEM()
{
	# Swap
	rm -r .cache
	sync
	swapoff -av
	swapon -av
	sync
	# Cache
	echo 3 > /proc/sys/vm/drop_caches
}

echo -e "\e[35m\e[1m$(date +%H:%M:%S)\e[0m"
echo -e "\e[33mEmptying swap space and synchronizing cached writes to persistent storage...\e[0m"
FREE_MEM
echo -e "\e[35m\e[1m$(date +%H:%M:%S)\e[0m"
